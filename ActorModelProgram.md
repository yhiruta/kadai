# Scala/AkkaによるActorモデルプログラミング  
## 開発環境  
今回のテキスト作成にあたり、EclipseにScala開発用プラグインとなります、Scala IDE for Eclipseを入れて環境を整えました。  
各ソフトのバージョンは下記の通りとなります。(2014/11現在)  

* OS:Windows7 Professional SP1(32bit)  
* Eclipse:4.4.1 Luna  
* Java:1.8.0_25  
* Scala:2.11.2  
* Akka:2.3.7  

## Scalaとは  
Scala（スカラ）とはオブジェクト指向言語と関数型言語のお互いに良い所を取り込み2003年に誕生した比較的新しいプログラム言語です。  
特徴としては、Java VM（java仮想マシン)上で動作しており、javaのライブラリを呼び出してscalaで利用することが出来ます。  
またScalaは型推論を持った静的型付け言語でもあるため、コードの記述量を少なく抑えることが可能であり、javaには劣るものの近い実行速度となっています。  

## Akkaとは  
Akkaとは、並列、平行、分散処理が書ける耐障害性に優れたScalaのライブラリである。  
Scala2.10.0からはAkkaのActorが標準となっており、それ以前からScalaに標準で入っていた`scala.actors`のパッケージは現在使用は非推奨となっています。  

## Actorモデルとは  
並行計算の数学的モデルの一種である。  
Actorモデルの基本概念は以下引用のようになっています。  
詳しくは[ウィキペディアのアクターモデル](http://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%AF%E3%82%BF%E3%83%BC%E3%83%A2%E3%83%87%E3%83%AB)をご参照下さい。  

> アクターモデルの基本は「全てのものはアクターである」という哲学である。これはオブジェクト指向プログラミングにおける「全てのものはオブジェクトである」という考え方と似ているが、オブジェクト指向ソフトウェアでは基本的に逐次的に実行するのに対して、アクターモデルでは本質的に並行性を備えている点が異なる。
> アクターは並行的に受信するメッセージに対応した以下のような振る舞いを備えた計算実体（Computational Entity）である:

> * （他の）アクターに有限個のメッセージを送信する。
> * 有限個の新たなアクターを生成する。
> * 次に受信するメッセージに対する動作を指定する。

> これらの振る舞いには逐次性は前提とされておらず、並列的にこれらを実行する。
> 他のアクターとの通信は非同期に発生する（すなわち、送信側アクターはメッセージが受信されるのを待たずに次の計算に移行する）。  

なお引用した部分に出てきましたメッセージというのは、オブジェクト同士が情報交換を行い、オブジェクト間で受け渡される情報の事を指しています。

## scalaでの並行処理
Javaで並行処理を行う場合`java.util.concurrent`を使用すると思いますが、scalaでは`akka.actor._`というクラスを使用して並行処理を行うことになります。  
ただ、並列処理をしたいのであればakkaのActorを無理に使用する必要は無く、[Future](http://docs.scala-lang.org/ja/overviews/core/futures.html)や[Collection](http://docs.scala-lang.org/ja/overviews/collections/introduction.html)を用いれば実行は可能です。  
では何時akkaのActorを用いるのか、それは前項の **Akkaとは** でも少し触れましたが、耐障害性が必要な場合となります。  
Actorはお互い同じデータを共有することが無いため、たとえ一つのActorが何らかの不具合で止まってしまった場合でも、他のActorやシステムに影響を与えることなく再起動などの処理を行うことができます。  

